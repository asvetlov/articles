Title: aiohttp.web
Labels: python, web, asyncio, aiohttp

Мне очень нравится
[asyncio](https://docs.python.org/dev/library/asyncio.html) для
асинхронного сетевого программирования --- быстрый, простой, удобный.

Проблема в том, что *asyncio* *из коробки* не содержит средств для
работы со стандартными протоколами, базами данных и т.д.

Эта беда решается сторонними библиотеками, которые более или менее хороши.

Ситуация с HTTP до недавних пор была немного хуже:
[aiohttp](http://aiohttp.readthedocs.org/) имеет довольно удобный
*HTTP Client* и очень низкоуровневый *HTTP Server*.

Настолько низкоуровневый, что почти все мои коллеги не могли его
использовать --- очень большой порог вхождения.

Немного истории
---------------

Пару лет назад, еще когда *asyncio* назывался *tulip*, Николай Ким
сделал базовую поддержку HTTP протокола в *tulip*.

В *asyncio* эту часть Гвидо ван Россум не принял --- идея в целом всем
нравилась, но реализация должна сначала "отстояться" в виде
*библиотеки на PyPI*, пройти проверку временем и пользователями.

Тогда Николай перенес оставшиеся "за бортом" части в *aiohttp*.

В общем библиотека была, я её интенсивно использовал (и совершенствовал понемногу).

Вместе с Алексеем Поправка сделали *aiorest* --- HTTP Server для создания *REST API*.

Мы с самого начала рассматривали *aiorest* как пробный проект, удачные
решения которого будут перенесены в *aiohttp*.

Не хватало мелочей --- времени на разработку и коммуникации. Проблему
времени можно решить (взять отпуск в конце концов), а с последним
сложнее.

Я живу в Киеве, Николай Ким обитает в Сан Франциско.  Скайп и почта
--- неравноценная замена живому общению. А требовалось принять много
архитектурных решений, которые задают весь дизайн создаваемой
системы. Цена ошибки очень высока: после релиза исправить уже ничего
не удастся.

Компания [KeepSafe](https://www.getkeepsafe.com/), где работает
Николай, пошла навстречу и организовала мне двухнедельный визит.

В результате тесной работы с Николаем Кимом появился *aiohttp.web* ---
решение для создания web серверов, ориентированное на "простого
программиста".

Request-Response
----------------


